<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Gatsby Starter Blog RSS Feed]]></title><description><![CDATA[Doohyun Hwang's personal dev blog]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io</link><generator>GatsbyJS</generator><lastBuildDate>Fri, 30 Aug 2024 04:37:29 GMT</lastBuildDate><item><title><![CDATA[Continuous Delivery - 자동화된 QA 환경 구축]]></title><description><![CDATA[도입 배경 현재 프로젝트는 부하테스트 등 QA(Quality Analysis…]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/develop/mall-fashion/mall4/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/develop/mall-fashion/mall4/</guid><pubDate>Wed, 28 Aug 2024 22:12:04 GMT</pubDate><content:encoded>&lt;h2&gt;도입 배경&lt;/h2&gt;
&lt;p&gt;현재 프로젝트는 부하테스트 등 QA(Quality Analysis)를 위해서 로컬 환경에서 도커 이미지를 빌드한 후에 원격 호스트에서 해당 도커이미지를 수동으로 실행하는 방법을 사용하고 있습니다. 이 방법은 언뜻 보기에는 불편해보이지 않지만 잘못된 이미지를 실행하는 등 가끔 실수를 유발하기도 하고 컨테이너가 정상적으로 삭제가 되지 않아 충돌이 발생해 개발자가 ec2 콘솔에 접속해야하는 등 시간을 소모하고 일관되지 않은 결과를 유발합니다.&lt;/p&gt;
&lt;p&gt;이는 특히 여러명이 협업하는 상황에서 혼란은 가중시키며 가장 큰 문제점은 배포 프로세스가 일관되지 않고 불안정하다는 것입니다. 무엇보다 이러한 프로세스는 귀찮기 때문에 develop의 내용을 출시를 위해 release 브랜치로 병합할 때 QA 서버로 자동 배포가 가능하게끔 구현하면 이러한 문제를 해결할 수 있을 것입니다. 이때 사용되는 개념이 Continuous Delivery인데 이에 대해 먼저 다루고 프로젝트에서 Continuous Delivery를 어떻게 구현했는지 다뤄보고자 합니다.&lt;/p&gt;
&lt;p&gt;그리고 이번 포스트의 내용은 이전 포스트의 내용과 이어집니다. Continuous Delivery는 CI의 연장선 상의 개념이기 때문입니다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;mall3.md&quot;&gt;지속적인 통합 - Github Action을 통한 안정적인 통합 환경 구축&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;CD(Continuous Delivery / Continuous Deployment)&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://www.redhat.com/rhdc/managed-files/styles/wysiwyg_full_width/private/ci-cd-flow-desktop.png.webp?itok=mDEvsSsp&quot; alt=&quot;ci-cd&quot;&gt;&lt;/p&gt;
&lt;p&gt;CI/CD의 &quot;CD&quot;는 지속적 제공(Continuous Delivery) 및/또는 지속적 배포(Continuous Deployment)를 의미하며 이 두 용어는 상호 교환하여 사용됩니다. 두 가지 모두 파이프라인의 추가 단계를 자동화하는 것이지만 자동화가 얼마나 많이 진행되고 있는지를 나타내기 위해 별도로 사용될 수도 있습니다. 지속적 제공과 지속적 배포 중 어느 것을 선택할지는 개발 팀과 운영 팀의 위험 허용 범위와 구체적인 요구 사항에 따라 달라집니다.&lt;/p&gt;
&lt;h3&gt;Continuous Delivery&lt;/h3&gt;
&lt;p&gt;Continuous Delivery는 CI로 검증된 코드를 리포지토리로 릴리스하는 것을 자동화합니다.
Continuous Delivery의 목표는 언제나 프로덕션 환경으로 배포할 준비가 되어 있는 코드베이스를 갖추고 새로운 코드를 배포하는 데 필요한 노력을 최소화하는 것입니다.&lt;/p&gt;
&lt;h3&gt;Continuous Deployment&lt;/h3&gt;
&lt;p&gt;개발자의 변경사항이 prod 레벨까지 지속적으로 release 되어 고객이 사용할 수 있게 되는 것을 의미합니다. CD는 애플리케이션 제공 속도를 저하시키는 수동 프로세스로 인한 운영 팀의 업무 과다 문제를 해결합니다. 지속적 배포는 파이프라인의 다음 단계를 자동화함으로써 지속적 제공의 장점을 활용합니다. 이러한 CI/CD 파이프라인은 애플리케이션 배포의 리스크를 줄여주므로 애플리케이션 변경 사항을 한꺼번에 릴리스하지 않고 작은 단위로 세분화하여 더욱 손쉽게 릴리스할 수 있습니다.&lt;/p&gt;
&lt;p&gt;그러나 프로덕션 이전의 파이프라인 단계에는 수동 게이트가 없으므로 지속적 배포는 잘 설계된 테스트 자동화에 크게 의존합니다. 따라서 CI/CD 파이프라인에서 다양한 테스트 및 릴리스 단계를 수용하기 위해 자동화된 테스트를 작성해야 하므로 지속적 배포에는 많은 선행 투자가 필요합니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bd05251ae21a56ab861b24182f5d4a31/97bfd/mall4-cd-concept.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 112.0253164556962%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAAFa0lEQVR42mWV63NU5R3H95+p44z6wrHDEAWS3Zxz9pYEFQIoghARvIxKyyha8qK0altCrDECAgGVYDCE3LObTbL37J49e/a+2Ws2iC3j2Mu0M211ptM3n/7O+sIXvvjO85zn+f5+53d/bMp6CiWuo/hDqMshOucDOOaWcSyu4pBvbTksd0EcviDdq1EcS6uo8m33raFYnBkfDpHRRE93TMem6mZboXPsFj0C9Y9jbWgXb6Be+BzvJzfpvTSOR1b1+iS9H3/OHoFqncvq+eAqnqsTuFMZlIQhCs0sajaPq1jGW97AUxJUam14N6p4a3WUaBJFrPPWG3jKFfqqcmfxZO/dqOAWOSWTQzUy2BxCdH42hSJ/3DEsfxMrusUi7apYe3Ec9coEmpwpE7Mow1fwXP6i/e0Ym0C5KBYKp+v8FTSRcQbC2DTL5bUY2kqErqU1tEgCVX6iBCIocuaRu97QOj3xFL0SZ7dY2y2CangdNRTHLdxuiaUWjOGyLHSLqwfyRQ6JewP1JkfFxYFGk+drDQ5v1OgTt9ytFk6575MwPC8YaG4Kr8HRaoMjslpyz4oeLVfAtlO0rlRb/PubbwmHk6zHDJb8YSqlGt//7R8cNgs88u4oDw2e55CZR9fzLC9HMY080UgKfyCKHjW4k8rTLXG0KdkCH+XLTDXuM5So8EGy2sZY6WsWN7/mmUyBjtuL7JRwHMjk+dQsM5KqM6LXGU03GU5UuZpp8GGm2E6uradeo7NQ5b3QEMv6L5nTT7NgnOZW8CRPpiNozS36vrpL7927uKx9Os5k/DTz+lvMCtcnMudDv8O+UcdTrYrCZh17sUlUPwa17dTmNP6TdvC/TAfHTD9q60/01KRMBM7WPQ4mA/y32MV3hr3NpdpBMn4QpbIlZVXH5m006C43uBw8Sy5+lGDwOMnYCSIrAxzMRNpKeqT+LLhbX7HXiBIJnSAZfZGQcDOxAa4FfoVa22zXqc0jWbU2nZt/ZtvWX9gdLdGRa/H4vb+2XextNvFsttqw9m452771LfbafTzBHD9vfkNX6/4PRW8ptDpBq9Q5NX2Z0YmzXLg2yMjNs/xh/LfsMVPYmy0pnQ36pDMcjU2eMg1+P/G+cH/Dx2NnGPniLG/dvoBTSscjYRGFVXaVGsRH9/LPMw9gvr2NxuBj/GvwZxwJz/NK8x5TsTTzySwna1v0ry7y3bsPU3vnUbLvbOPvZx5EP+/FXt38ISneSkWSUuPWJy/RGLITGurBHPaQPaewO7zEjUKDWCLDWtxkutSkLxQg86EHc8jFunBr5+xMjR6luyIWSl/bXOKKW6CkC2jhOKdmltjjj/LyzQXe9oUZl0Kfiqa5LcV7yRfh1PwaJ7/083QgTv+0jLp1Ey2Vwy3KXBIam6tYQpPCPpD0cUyf4Ncr1zkZvMGbc5c5HgrzWrnGa6UKr5erHM+VGFgNMei7zqvRm7ziv8YLxiTPJBbQihtYumyufAG7UWQk9AYriV7uJPuluPuZjuxmX3aZHZVNHKUydkGXlMbu1ApTiX4WEntYSO1jOdbLpeAJlJwoFF02p7RLVzLHuZVfMBt6itvh/UzH9jPhe5Jnk4uokjBPoYhboEl/Px3xMRncz2RoH1MR4YrMsP9V6WPx1OplzTBRpen3SgccMWY5lJjhsD7Lc+szuA0DZ76EU6ZIG7J3pQwOJmaFM8MhfU5k5uhf90kfSw7SWWw7JufZLsOy40sf22flrchsYJcBYK2aDANNJrpm5n6EnDksTrbCzojB44tRdkoSOxdWcMhMtO2aC7BDpskT43fk4ZFBmUwJDDTdQNXTqCnzJ7DuneKZ3b9G56wPuzxmu+Rh6/IH+T+UweT0plMHOAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cd-concept&quot;
        title=&quot;&quot;
        src=&quot;/static/bd05251ae21a56ab861b24182f5d4a31/f058b/mall4-cd-concept.png&quot;
        srcset=&quot;/static/bd05251ae21a56ab861b24182f5d4a31/c26ae/mall4-cd-concept.png 158w,
/static/bd05251ae21a56ab861b24182f5d4a31/6bdcf/mall4-cd-concept.png 315w,
/static/bd05251ae21a56ab861b24182f5d4a31/f058b/mall4-cd-concept.png 630w,
/static/bd05251ae21a56ab861b24182f5d4a31/40601/mall4-cd-concept.png 945w,
/static/bd05251ae21a56ab861b24182f5d4a31/97bfd/mall4-cd-concept.png 1078w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Continuous Deployment 대신 Continuous Delivery을 사용하는 이유&lt;/h2&gt;
&lt;p&gt;현재 프로젝트는 다음과 같은 과정을 거쳐 사용자에게 서비스됩니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;feature 브랜치에서 기능 구현 후 develop 브랜치에 병합&lt;/li&gt;
&lt;li&gt;버전 내 릴리즈할 기능의 구현이 모두 완료되면 release 브랜치 생성&lt;/li&gt;
&lt;li&gt;release 브랜치를 QA 서버에 배포 후 QA&lt;/li&gt;
&lt;li&gt;QA 중 버그를 수정한 후 출시&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;현재 3번의 QA 과정을 거쳐야 하는 프로젝트 특성상 QA 이후 매뉴얼하게 배포를 하는 방식을 사용해야 하기 때문에 1번부터 4번까지의 자동화된 프로세스를 의미하는 Continuous Deployment 대신 Continuous Delivery를 사용하고 있습니다.&lt;/p&gt;
&lt;p&gt;그래서 이번 포스트에서는 Continuous Delivery의 영역인 2번과 3번을 Github Action을 통해 자동화하는 과정에 대해 다뤄보고자 합니다.&lt;/p&gt;
&lt;h2&gt;Github Actions을 통해 구현한 Continuous Delivery&lt;/h2&gt;
&lt;p&gt;release 브랜치에 push 이벤트가 발생했을 때 CI와 QA 서버로의 배포 자동화를 qa-deploy.yml이라는 파일에 정의했습니다. 아래는 해당 파일의 전체입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Automized Deployment to QA server

&lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;release&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;*&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest

    &lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Checkout
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/checkout@v3

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Set up JDK 17
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;java@v3
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;java-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;17&quot;&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;distribution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;temurin&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Grant execute permission for gradlew
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; chmod +x gradlew
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Build and test with Gradle
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ./gradlew clean build

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Set up Docker Buildx
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; docker/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;buildx&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@v2

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Log in to Docker Hub
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; docker/login&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@v2
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.DOCKER_HUB_USERNAME &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.DOCKER_HUB_PASSWORD &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Build and push Docker image
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; docker/build&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;push&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@v3
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; .
          &lt;span class=&quot;token key atrule&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Dockerfile
          &lt;span class=&quot;token key atrule&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; wedowhatwedo/mall&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;qa&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;latest

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Deploy
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; appleboy/ssh&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@master
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.EC2_HOST &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.EC2_USER &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.EC2_SSH_KEY &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.EC2_SSH_PORT &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
            sudo docker pull wedowhatwedo/mall-qa:latest
            sudo docker stop backend || true
            sudo docker rm backend || true
            sudo docker run --rm -d --name backend -p 8080:8080 wedowhatwedo/mall-qa:latest&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 부분부분에 대해서 설명해보겠습니다.&lt;/p&gt;
&lt;h3&gt;1. 워크플로우 이름 및 실행 조건&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Automized Deployment to QA server

&lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;release&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;*&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;name은 워크플로우 이름을 지칭합니다.&lt;/li&gt;
&lt;li&gt;on절은 &lt;code class=&quot;language-text&quot;&gt;release-&lt;/code&gt;로 시작하는 브랜치에 대해서 push 이벤트가 발생했을 때 워크플로우가 실행될 것을 의미합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;2. 잡 정의&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;잡 이름을 deploy로 지칭합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;runs-on&lt;/code&gt;을 통해 실행 환경을 지정합니다.&lt;/li&gt;
&lt;li&gt;ubuntu-latest는 최신 우분투 환경에서 실행함을 의미합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;3. 잡 정의&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;잡 이름을 deploy로 지칭합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;runs-on&lt;/code&gt;을 통해 실행 환경을 지정합니다.&lt;/li&gt;
&lt;li&gt;ubuntu-latest는 최신 우분투 환경에서 실행함을 의미합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;4. 단계별 정의&lt;/h3&gt;
&lt;h4&gt;1. 빌드&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Checkout
  &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/checkout@v3

&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Set up JDK 17
  &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;java@v3
  &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;java-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;17&quot;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;distribution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;temurin&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Grant execute permission for gradlew
  &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; chmod +x gradlew
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Build and test with Gradle
  &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ./gradlew clean build&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;빌드와 관련된 스크립트입니다. 해당 부분에 대한 자세한 설명은 건너뛰고 배포 자동화에 대한 부분만 살펴보려 합니다. 자세한 내용은 &lt;a href=&quot;mall3.md&quot;&gt;이전 포스트&lt;/a&gt;에서 확인 가능합니다.&lt;/p&gt;
&lt;h4&gt;2. 도커 이미지 빌드&amp;#x26;푸시&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Set up Docker Buildx
  &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; docker/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;buildx&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@v2

&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Log in to Docker Hub
  &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; docker/login&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@v2
  &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.DOCKER_HUB_USERNAME &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.DOCKER_HUB_PASSWORD &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Build and push Docker image
  &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; docker/build&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;push&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@v3
  &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; .
    &lt;span class=&quot;token key atrule&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Dockerfile
    &lt;span class=&quot;token key atrule&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; wedowhatwedo/mall&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;qa&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;latest&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;멀티플랫폼 이미지 빌드를 지원하는 Docker Buildx를 설정합니다.&lt;/li&gt;
&lt;li&gt;Docker Hub에 로그인하여 이미지를 푸시할 수 있도록 설정합니다.&lt;/li&gt;
&lt;li&gt;GitHub Secrets에서 가져온 사용자 이름과 비밀번호를 사용합니다.&lt;/li&gt;
&lt;li&gt;도커 이미지를 빌드하고 Docker Hub에 푸시합니다.
&lt;ul&gt;
&lt;li&gt;context: 현재 디렉토리를 빌드 컨텍스트로 사용&lt;/li&gt;
&lt;li&gt;file: 사용할 Dockerfile&lt;/li&gt;
&lt;li&gt;push: 빌드 후 이미지를 Docker Hub에 푸시&lt;/li&gt;
&lt;li&gt;tags: 푸시할 이미지에 적용할 태그&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;3. 원격 호스트에 접속 후 배포 스크립트 실행&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Deploy
  &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; appleboy/ssh&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@master
  &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.EC2_HOST &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.EC2_USER &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.EC2_SSH_KEY &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.EC2_SSH_PORT &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
      sudo docker pull wedowhatwedo/mall-qa:latest
      sudo docker stop backend || true
      sudo docker rm backend || true
      sudo docker run --rm -d --name backend -p 8080:8080 wedowhatwedo/mall-qa:latest&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;appleboy/ssh-action&lt;/code&gt;은 SSH를 사용하여 원격 서버에 명령을 실행할 수 있게 해주는 오픈소스 액션입니다. 이를 사용하면 워크플로우에서 직접 원격 서버로 연결해 다양한 작업을 자동화할 수 있습니다. 이는 배포, 서버 구성, 스크립트 실행 등 원격 서버에서 수행해야 하는 작업에 유용합니다.&lt;/p&gt;
&lt;p&gt;손쉽게 SSH 접속에 필요한 정보들을 AWS secrets에 저장한 환경변수를 통해 설정하고 스크립트를 실행함으로써 배포를 실행할 수 있었습니다.&lt;/p&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;아래와 같이 release 브랜치 생성과 함께 QA서버 배포를 자동화할 수 있었습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4b7b69f5965210cf652d9d8cf6b0edbb/2cefc/mall4-result2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABFklEQVR42qVS2U7DMBD0//8eEqgSlMMkKZS0OVrfzjDrJlJ4JH2YeL3rjGd2rWJKMNbBOQ/vAyxX6xxSzpgATFP5FkicCcdzKd3qy144hEvF6FE3n9C6IjSqqi7o+h591+E0GuhhwluX0BqhAKq6wfuHRualgpf9K76+j6WmJBFTRIhEiFR5U+rn2HE1IcP4DB+piuclb6ylylQILdXJvzlPUMZ6tOcBP6cO536EcbTt4x+IJTtjXZd42Zt5r7rhgofHHZ52z9BVgysvWA5ugRJ2HxJtT7SUCuE9pMpwqu3IAVCpYyKQXODEwgZidWFD90fNSR9I4sszkEZL34bLdZtlUSQTNC7SbiiQeN34fxCGu/u2JvwF9ZUKPc1Q5JIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;result2&quot;
        title=&quot;&quot;
        src=&quot;/static/4b7b69f5965210cf652d9d8cf6b0edbb/f058b/mall4-result2.png&quot;
        srcset=&quot;/static/4b7b69f5965210cf652d9d8cf6b0edbb/c26ae/mall4-result2.png 158w,
/static/4b7b69f5965210cf652d9d8cf6b0edbb/6bdcf/mall4-result2.png 315w,
/static/4b7b69f5965210cf652d9d8cf6b0edbb/f058b/mall4-result2.png 630w,
/static/4b7b69f5965210cf652d9d8cf6b0edbb/40601/mall4-result2.png 945w,
/static/4b7b69f5965210cf652d9d8cf6b0edbb/78612/mall4-result2.png 1260w,
/static/4b7b69f5965210cf652d9d8cf6b0edbb/2cefc/mall4-result2.png 1400w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/02692624c964936a4ee900004b3b6932/b490f/mall4-result1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25.316455696202528%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABEUlEQVR42k1Q226CQBDlp3mpSf2B+j/lyfpoGm1SLHIRXHCRO4iQAAE57Uxi0kkme/bs7JwzoziRBeP6A+3jHau3FVRVxXb7ib7vUVUV7vc7mqZhLISA53l4xjRNGMcRt9sNdV3D9wModVHjdHThmA4ejwc/nE4OoihCUZQoyxJ5nmMYBsZpmkJKyZzv+yxAPAm6f1gxwyPc3IG20bB8XWKxeMF6veFiXf+GYRgwTRNhGMKyLL4/G7Zty81oAjIjhA8lzmOIUGD3teOP+/0ecZwgyzJ2Nc8zF1MmScLO/0fXdTifzyxApxJdI8iLhOd6TAaXADKUOOgH2LbNSULkitYRBAG7pKSdkjCNXRQFLNvBL/0tbJppOqFwAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;result1&quot;
        title=&quot;&quot;
        src=&quot;/static/02692624c964936a4ee900004b3b6932/f058b/mall4-result1.png&quot;
        srcset=&quot;/static/02692624c964936a4ee900004b3b6932/c26ae/mall4-result1.png 158w,
/static/02692624c964936a4ee900004b3b6932/6bdcf/mall4-result1.png 315w,
/static/02692624c964936a4ee900004b3b6932/f058b/mall4-result1.png 630w,
/static/02692624c964936a4ee900004b3b6932/40601/mall4-result1.png 945w,
/static/02692624c964936a4ee900004b3b6932/b490f/mall4-result1.png 1142w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이로써 프로젝트에서 더 이상 개발자가 QA를 위해서 번거롭게 로컬 환경에서 이미지를 빌드하고 원격 서버에 접속하여 수동으로 도커 이미지를 실행하는 번거로움과 혼선을 줄일 수 있게 되었습니다. 이를 통해 개발자는 좀 더 편하게 QA를 할 수 있는 환경이 주어질 뿐만 아니라 핵심적인 비즈니스 로직 구현에 집중할 수 있게 되었습니다.&lt;/p&gt;
&lt;p&gt;또한 Jenkins 가 아닌 Github Actions을 이용함으로써 서버 비용 또한 줄일 수 있었으며 환경 설정의 편의를 얻을 수 있었습니다. 이 주제는 추후에 프로젝트의 복잡성이 증가함에 따라서 멀티모듈 혹은 MSA를 도입하게 되면 다시 다뤄볼만한 주제인 것 같습니다. 그때는 또 다른 상황이니까요.
긴 글 읽어주셔서 감사합니다!&lt;/p&gt;
&lt;h2&gt;참고 자료&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.redhat.com/ko/topics/devops/what-is-ci-cd&quot;&gt;CI/CD란?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://techblog.woowahan.com/2553/&quot;&gt;release 브랜치에 관한 이야기&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[지속적인 통합 - Github Actions을 통한 안정적인 통합 환경 구축]]></title><description><![CDATA[도입 배경 현재 프로젝트는 코드의 통합을 위해 feature 브랜치에서 작업 후 develop…]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/develop/mall-fashion/mall3/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/develop/mall-fashion/mall3/</guid><pubDate>Wed, 28 Aug 2024 22:12:03 GMT</pubDate><content:encoded>&lt;h2&gt;도입 배경&lt;/h2&gt;
&lt;p&gt;현재 프로젝트는 코드의 통합을 위해 feature 브랜치에서 작업 후 develop 브랜치로 병합하는 방식을 사용하고 있습니다.로컬 환경에서 테스트를 모두 통과했을 때 병합을 하는 것을 규칙으로 하고 있는데요. 이것을 강제할 수 없다는 문제점이 존재합니다.&lt;/p&gt;
&lt;p&gt;이전의 코드 통합시 테스트를 실수로 잊어버리면 다음 기능을 구현할 때 번번이 버그가 발생하고는 했습니다. 그리고 이는 빌드 실패로 이어지기도 했습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/034815bcbbd95f0d74ddc186f9fb0fd4/874d1/mall3-error.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.21518987341772%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABBklEQVR42lWQa26DMBCEOUjzrNoEgzHGxuZNEooSSNre/zTTZaNW6o+VpV3PtzMbRDKFNAb9MGK6f+E6PdCfPyBiBW1LWKPQ5Rkq7VBmOZrujLa/QBuHSGrEiYZUGRKlEUYJggUopELRtrhNnww8XUb4soFxJX+SykClliELINU5BPXfDwK7/RteVlus1jusN3sEMQEPMoHvnsCy7uCKml/rKwaKSDHQWM+lyakkcO4qnm22rwxjoCCgJctl02IYJ47bnQaKNcCS4Cgki40t4HyNuunhaaEvGl4SiqfTP4dhnKJ3BebbHfPjG+N15riC+hlBllsugpDAS5p4uRvVMZT/ov66/AGYy56IXgz6vAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;mall3-error&quot;
        title=&quot;&quot;
        src=&quot;/static/034815bcbbd95f0d74ddc186f9fb0fd4/f058b/mall3-error.png&quot;
        srcset=&quot;/static/034815bcbbd95f0d74ddc186f9fb0fd4/c26ae/mall3-error.png 158w,
/static/034815bcbbd95f0d74ddc186f9fb0fd4/6bdcf/mall3-error.png 315w,
/static/034815bcbbd95f0d74ddc186f9fb0fd4/f058b/mall3-error.png 630w,
/static/034815bcbbd95f0d74ddc186f9fb0fd4/40601/mall3-error.png 945w,
/static/034815bcbbd95f0d74ddc186f9fb0fd4/78612/mall3-error.png 1260w,
/static/034815bcbbd95f0d74ddc186f9fb0fd4/874d1/mall3-error.png 1310w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div style=&quot;text-align: center; margin-top: 5px; margin-bottom: 20px; font-size: 14px;&quot;&gt;
  쿠폰 기능을 개발하다 발견한 스토어 도메인의 버그
&lt;/div&gt;
&lt;p&gt;이러한 문제는 개인 프로젝트를 진행할 때는 다음 피쳐 개발 때 fix하면 되겠지라고 안일하게 생각할 수 있지만 실제 서비스는 다릅니다. 여러명의 개발자들이 협업하는 상황에서
이러한 문제는 다른 팀원들의 작업에 영향을 주고 전체 프로젝트의 안정성에 악영향을 줄 수 있습니다.
또한 이는 git-flow 전략을 따르고 있었던 현재 프로젝트의 브랜치 전략을 위배하는 것입니다. develop 브랜치의 코드는 항상 안정성을 유지해야 하기 때문입니다.&lt;/p&gt;
&lt;p&gt;이러한 문제를 해결하기 위해서 프로젝트에 CI를 도입하여 &lt;strong&gt;작은 변경사항을 지속적으로 적용&lt;/strong&gt;하되 develop, release, main &lt;strong&gt;브랜치의 안정성을 지키고자 합니다.&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;CI 란&lt;/h2&gt;
&lt;p&gt;지속적 통합 (Continuous Integration, CI)은 소프트웨어 개발 과정에서 작은 변경 사항들을 자주, 그리고 지속적으로 기존 코드베이스에 통합하는 개발 방식입니다. 이 접근 방식은 개발 초기 단계에서 버그를 발견하고 수정할 수 있게 하여 소프트웨어의 품질을 향상시키고 개발 속도를 높이는 것을 목표로 합니다. CI는 주로 빌드와 테스트 과정을 자동화하여 개발자들이 수작업으로 해야 하는 귀찮음을 줄이고, 코드 통합 과정에서 발생할 수 있는 충돌을 예방하는 데 도움을 줍니다.&lt;/p&gt;
&lt;h3&gt;1. 지속적인 통합의 의미&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;CI는 코드 변경 사항을 빈번하게(하루에도 여러 번) 메인 코드베이스에 병합하는 것을 말합니다.&lt;/li&gt;
&lt;li&gt;각 병합 시마다 자동으로 빌드와 테스트가 실행되어, 변경 사항이 기존 코드와 잘 통합되는지 확인합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;2. 장점&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;충돌 예방: 작은 단위로 자주 통합함으로써 코드 충돌을 줄이고, 팀 간 협업을 원활하게 합니다.&lt;/li&gt;
&lt;li&gt;빠른 피드백: 코드 변경 후 즉시 빌드 및 테스트가 실행되므로, 문제를 조기에 발견하고 수정할 수 있습니다.&lt;/li&gt;
&lt;li&gt;높은 코드 품질: 자동화된 테스트를 통해 코드의 안정성을 유지하며, 배포 전 품질을 향상시킵니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;3. 자동화의 중요성&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;CI의 핵심은 자동화입니다. 수동으로 빌드와 테스트를 실행하는 것은 비효율적이고 시간이 많이 걸립니다. CI 도구를 사용하면 이러한 과정을 자동으로 실행할 수 있어, 개발자들이 더 중요한 작업에 집중할 수 있습니다.&lt;/li&gt;
&lt;li&gt;자동화된 빌드 및 테스트는 변경 사항을 즉시 검증하므로, 버그나 오류가 발생했을 때 빠르게 대응할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;4. CI의 과정&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;코드 변경: 개발자가 코드에 변경 사항을 추가하고 이를 버전 관리 시스템(예: Git)에 커밋합니다.&lt;/li&gt;
&lt;li&gt;자동 빌드: 커밋된 코드가 CI 서버에 의해 자동으로 빌드됩니다.&lt;/li&gt;
&lt;li&gt;자동 테스트: 빌드된 코드에 대해 자동화된 테스트가 실행되어 코드의 안정성을 검증합니다.&lt;/li&gt;
&lt;li&gt;피드백: 빌드 및 테스트 결과가 개발자에게 즉시 피드백으로 제공되어, 문제를 빠르게 인지하고 수정할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Github Actions 선택 이유&lt;/h2&gt;
&lt;p&gt;Github Actions을 선택한 이유는 프로젝트 특성상 Jenkins의 장점이 발휘될 여지가 적고 오히려 Github Actions의 장점이 크게 부각될 여지가 있기 때문입니다.&lt;/p&gt;
&lt;p&gt;현재 진행하고 있는 프로젝트의 특징은 아래와 같습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Github 기반&lt;/li&gt;
&lt;li&gt;복잡하지 않은 CI/CD 파이프라인&lt;/li&gt;
&lt;li&gt;제한된 서버 비용&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Jenkins의 장점&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;복잡한 CI/CD 파이프라인에 특화되어 다양한 커스터마이징 가능&lt;/li&gt;
&lt;li&gt;수 천개의 플러그인을 통한 높은 확장성&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Jenkins의 단점&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;추가적인 서버 비용, 유지보수 비용&lt;/li&gt;
&lt;li&gt;Github와의 추가적인 연동 필요&lt;/li&gt;
&lt;li&gt;직관적이지 않은 UI와 높은 설정 복잡도&lt;/li&gt;
&lt;li&gt;플러그인에 대한 의존성&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Github Actions의 장점&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;깃허브 클라우드 기반: public 저장소의 경우 추가적인 서버비용이 발생하지 않습니다.&lt;/li&gt;
&lt;li&gt;Github와의 연동이 편이&lt;/li&gt;
&lt;li&gt;비교적 쉬운 설정&lt;/li&gt;
&lt;li&gt;docker의 쉬운 사용&lt;/li&gt;
&lt;li&gt;오픈소스로 재사용가능한 action 제공&lt;/li&gt;
&lt;li&gt;task의 병렬처리&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;즉 정리하자면 Jenkins를 활용하기에 지금 프로젝트는 아직 초기 개발 상태이기 때문에 복잡한 CI/CD 설정이 필요하지 않고 docker을 사용하며 서버비용이 제한되어 있는 상황이기 때문에 Github Action을 선택하게 되었습니다. 추후에 프로젝트 규모가 커져 CI/CD 파이프라인의 좀 더 세밀한 커스터마이징이 필요해진다면 그 때 Jenkins CI를 고려해볼만 할 것 같습니다.&lt;/p&gt;
&lt;h2&gt;Github Action CI 설정&lt;/h2&gt;
&lt;p&gt;현재 프로젝트에서 CI를 위해 필요한 것은 테스트와 빌드뿐이었기 때문에 설정 자체는 어렵지 않았습니다. 오히려 Jenkins CI보다 매우 간편해서 놀랐습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CI to develop

&lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;develop&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;pull_request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;develop&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest

    &lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/checkout@v3
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Set up JDK 17
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;java@v3
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;java-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;17&quot;&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;distribution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;temurin&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Grant execute permission for gradlew
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; chmod +x gradlew
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Build and test with Gradle
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ./gradlew clean build&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;1. WorkFlow&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CI to develop&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;워크플로우는 여러 Job으로 구성되고, Event에 의해 트리거될 수 있는 자동화된 프로세스입니다.&lt;/li&gt;
&lt;li&gt;name: 이 워크플로우의 이름을 정의합니다. GitHub Actions UI에서 이 이름으로 워크플로우를 식별할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;2. Event&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;develop&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;pull_request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;develop&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Workflow를 Trigger(실행)하는 특정 활동이나 규칙을 얘기합니다.&lt;/li&gt;
&lt;li&gt;다음과 같은 상황에서 사용됩니다.
&lt;ul&gt;
&lt;li&gt;특정 브랜치로 Push&lt;/li&gt;
&lt;li&gt;특정 브랜치로 Pull Request&lt;/li&gt;
&lt;li&gt;특정 시간대에 반복(Cron)&lt;/li&gt;
&lt;li&gt;Webhook을 사용해 외부 이벤트를 통해 실행&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;3. Job&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Job은 여러 Step으로 구성되고, 가상 환경의 인스턴스에서 실행됩니다.&lt;/li&gt;
&lt;li&gt;다른 Job에 의존 관계를 가질 수 있고, 독립적으로 병렬 실행도 가능합니다.&lt;/li&gt;
&lt;li&gt;runs-on: 이 작업이 실행될 환경을 정의합니다. 여기서는 ubuntu-latest를 사용하여 최신 버전의 Ubuntu 환경에서 작업을 실행합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;4. Steps&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/checkout@v3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Task들의 집합으로, 커맨드를 날리거나 action을 실행할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;단계별 설명&lt;/h4&gt;
&lt;h5&gt;1. 저장소 Checkout&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/checkout@v3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;GitHub 리포지토리의 코드 파일을 현재 작업 환경으로 체크아웃(복제)합니다. actions/checkout 액션을 사용하여, 리포지토리의 코드를 워크플로우 환경에 다운로드합니다. 이는 Jenkins와 대비되는 Github만의 강력한 통합 기능이기도 합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;2. JDK 17 세팅&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Set up JDK 17
  &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;java@v3
  &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;java-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;17&quot;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;distribution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;temurin&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;actions/setup-java 액션을 사용하여, Java Development Kit (JDK) 17을 설치하고 사용할 수 있도록 환경을 설정합니다. distribution: &quot;temurin&quot;은 Temurin(OpenJDK 배포판)을 사용한다는 것을 의미합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;3. gradlew에 실행권한 부여&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Grant execute permission for gradlew
  &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; chmod +x gradlew&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;gradlew 파일에 실행 권한을 부여합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;4. Gradle 빌드&amp;#x26;테스트&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Build and test with Gradle
  &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ./gradlew clean build&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;빌드 및 테스트를 실행합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;이렇게 develop 브랜치로의 CI의 성공적인 구현을 마쳤습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6241824453e7fb0afefc1343aee6d27e/c7bb6/mall3-ci-success-result.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.79746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB7ElEQVR42o2SW2/TQBCF8//5CQiJl75VCCohQBVSpb4ghEgEpUlpq8aJL/F1ba/3aseH2XVoCg+IlT7Pjrw+njk7s5P5Gzy7eI44jrEONthGETbbEMFmi5I1KEWPVhqk3YCM4FJjvx+IPTFOcRwxYlqzkRLb9xCCo6wYhJToKXcYY9GRmFQGnbIQ2kIR2hj/zlgLSwzDAKfjmL1dXWARXSOpcy/WdhzKaNg9iRLDkziMh3jADlQICTt0b6cK59ESi3iJ78ENom2M+4c1qrqhSjQ6Iak6ilIRAlwoFLxHTmRtj7Tp8ZAbT0OdeEH36LRCnOXkX4IkLcAa7j+W1N7fCNVT+xNuz6VF3VlwpY6Ct0WA+eYarGBIdimqqvIe/s9SdqSC9tSyOz9Ogi65+XlLYhl2WYGUSNIcecmo/RYNF/5ipD6iyDdppkupuEEt9LHCVgl8vfqGIIywDkOst5Fvf0MEYYIwTv0PnBUla/+wwwnnjQbrnrS8ZiFW4R1kJdCUjSeKYuR5jqosyILCV/Kv5SbBj41LgirGy8+vcPLlDC8+neJ08R6cS7BWesNZ54w3NFIKjB9y4eaxf0TSbI6/PYzqFGc/PuLD6hKvr87xbnmJuuXIa460lkiYpChQkJ9uvyOyRtJl6EekmTz8Bax5SSFblkLDAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;result&quot;
        title=&quot;&quot;
        src=&quot;/static/6241824453e7fb0afefc1343aee6d27e/f058b/mall3-ci-success-result.png&quot;
        srcset=&quot;/static/6241824453e7fb0afefc1343aee6d27e/c26ae/mall3-ci-success-result.png 158w,
/static/6241824453e7fb0afefc1343aee6d27e/6bdcf/mall3-ci-success-result.png 315w,
/static/6241824453e7fb0afefc1343aee6d27e/f058b/mall3-ci-success-result.png 630w,
/static/6241824453e7fb0afefc1343aee6d27e/40601/mall3-ci-success-result.png 945w,
/static/6241824453e7fb0afefc1343aee6d27e/78612/mall3-ci-success-result.png 1260w,
/static/6241824453e7fb0afefc1343aee6d27e/c7bb6/mall3-ci-success-result.png 1986w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이로써 제 프로젝트는 develop 브랜치의 안정성을 지키면서도 Github Action이 제공하는 Event 기반 테스트와 빌드 자동화를 통해 별다른 노력 없이 CI에 들이는 시간 또한 효율적으로 아낄 수 있었습니다. 추후 release 브랜치로의 통합 과정에는 배포 자동화를 추가하고 가능하다면 qa테스트(부하테스트 등)까지 자동화하여 prod 레벨까지의 CD(Continuous Deployment)가
가능해졌으면 하는 바람입니다.(그때는 Jenkins를 쓸 수도 있겠군요). 긴 글 읽어주셔서 감사합니다!&lt;/p&gt;
&lt;h2&gt;참고 자료&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.github.com/en/actions&quot;&gt;Github Action Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://zzsza.github.io/development/2020/06/06/github-action&quot;&gt;깃허브 액션 사용법 정리&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[효율적인 예외 처리 - RestControllerAdvice를 활용한 전역 예외 처리]]></title><description><![CDATA[…]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/develop/mall-fashion/mall2/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/develop/mall-fashion/mall2/</guid><pubDate>Tue, 27 Aug 2024 22:12:03 GMT</pubDate><content:encoded>&lt;h2&gt;도입 배경&lt;/h2&gt;
&lt;p&gt;기존의 프로젝트에서는 각 도메인마다 개별적으로 컨트롤러 내에 &lt;code class=&quot;language-text&quot;&gt;@ExceptionHandler&lt;/code&gt;를 정의하여 예외를 처리했습니다. 이로 인해 같은 예외 클래스를 처리하는 코드의 중복이 발생했고, 예외 처리가 분산되어 관리가 어려워지는 문제를 겪었습니다. 이에 따라 모든 예외를 한 곳에서 일관되게 처리할 수 있는 방법을 찾게 되었고, 그 결과 &lt;code class=&quot;language-text&quot;&gt;@RestControllerAdvice&lt;/code&gt;를 활용하여 전역 예외 처리기를 구현하게 되었습니다.&lt;/p&gt;
&lt;h2&gt;RestControllerAdvice와 ExceptionHandler의 역할&lt;/h2&gt;
&lt;h3&gt;1. @RestControllerAdvice: 전역 예외 처리기&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@RestControllerAdvice&lt;/code&gt;는 Spring4.3에서부터 제공하는 어노테이션으로, 여러 컨트롤러에 대해서 전역적으로 예외를 처리할 수 있도록 도와줍니다. 기존의 컨트롤러 내에 개별적으로 정의되어 있던 &lt;code class=&quot;language-text&quot;&gt;@ExceptionHandler&lt;/code&gt; 메서드를 하나의 클래스에 모아 전역적으로 관리할 수 있게 합니다. 이를 통해 코드의 중복을 줄이고, 예외 처리 로직을 중앙에서 일괄적으로 관리할 수 있습니다. 또한 이는 공통된 예외 처리 응답과 함께 사용하여 사용자에게 일관된 예외 응답을 제공할 수 있다는 장점을 갖습니다.&lt;/p&gt;
&lt;p&gt;하지만 여러 &lt;code class=&quot;language-text&quot;&gt;@ControllerAdvice&lt;/code&gt; 를 사용하는 경우 일관된 순서를 보장하기 위해 &lt;code class=&quot;language-text&quot;&gt;@Order&lt;/code&gt; 어노테이션을 사용해야 하거나 &lt;code class=&quot;language-text&quot;&gt;basePackages&lt;/code&gt; 지정을 통해 제어를 할 필요가 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RestControllerAdvice&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Slf4j&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GlobalExceptionHandler&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EnumSet&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; errorEnumSet &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EnumSet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;allOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@ExceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ApiException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ApiException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt; error &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;errorEnumSet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toErrorResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toErrorResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;FAILED_INTERNAL_SYSTEM_PROCESSING&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 기타 예외 핸들러 메서드들...&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@ExceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Internal Error = {}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toErrorResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;FAILED_INTERNAL_SYSTEM_PROCESSING&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toErrorResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt; error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;전역 예외 처리: @RestControllerAdvice를 사용하면 프로젝트 내의 모든 컨트롤러에서 발생하는 예외를 하나의 클래스에서 처리할 수 있습니다.&lt;/li&gt;
&lt;li&gt;유연한 예외 처리: 특정 예외에 대해 다른 응답을 반환할 수 있는 메서드를 자유롭게 정의할 수 있습니다.&lt;/li&gt;
&lt;li&gt;주의해야 할 점: &lt;code class=&quot;language-text&quot;&gt;@ExceptionHandler&lt;/code&gt; 어노테이션 내 파라미터로 넘겨준 예외 클래스와 클래스 매개변수의 타입이 일치해야 합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;2. @ExceptionHandler: 특정 예외 클래스 처리기&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@ExceptionHandler&lt;/code&gt;는 추상화된 예외처리 전략을 제공합니다. 사용자는 예외클래스와 핸들러에 따라 다른 예외처리 전략을 가져갈 수 있습니다. &lt;code class=&quot;language-text&quot;&gt;@ExceptionHandler&lt;/code&gt;는 컨트롤러 내에서 발생하는 특정 예외를 처리하는 메서드를 정의할 때 사용되는데 이 어노테이션을 사용하면 특정 예외 클래스와 매핑된 메서드를 호출하여 예외를 처리할 수 있습니다. 그리고 &lt;code class=&quot;language-text&quot;&gt;@ExceptionHandler&lt;/code&gt;는 예외의 유연한 처리라는 장점을 갖는데 이는 다양한 형식의 응답을 지원하며 사용자가 자유롭게 payload를 설정할 수 있다는 점에서 기인합니다. 이는 제한적인 정보(ex. 응답코드)만 설정가능한 &lt;code class=&quot;language-text&quot;&gt;@ResponseStatus&lt;/code&gt; 나 &lt;code class=&quot;language-text&quot;&gt;ResponseStatusException&lt;/code&gt; 에 비해 &lt;code class=&quot;language-text&quot;&gt;@ExceptionHandler&lt;/code&gt;가 갖는 특화된 장점이라고 할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@ExceptionHandler&lt;/code&gt; 어노테이션은 컨트롤러의 메소드 혹은 &lt;code class=&quot;language-text&quot;&gt;@ControllerAdvice&lt;/code&gt;이 붙은 클래스 내 메소드에 사용이 가능합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@ExceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MethodArgumentNotValidException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MethodArgumentNotValidException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toErrorResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;INVALID_REQUEST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;전역 예외 처리의 구현&lt;/h2&gt;
&lt;p&gt;GlobalExceptionHandler 클래스를 통해 프로젝트 내에서 발생할 수 있는 다양한 예외 상황을 하나의 클래스에서 처리하도록 구성했습니다. 각 예외에 대해 적절한 ErrorEnum을 사용하여 일관된 응답을 반환합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RestControllerAdvice&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Slf4j&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GlobalExceptionHandler&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EnumSet&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; errorEnumSet &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EnumSet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;allOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@ExceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ApiException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ApiException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt; error &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;errorEnumSet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toErrorResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toErrorResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;FAILED_INTERNAL_SYSTEM_PROCESSING&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@ExceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MethodArgumentNotValidException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MethodArgumentNotValidException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toErrorResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;INVALID_REQUEST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@ExceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;NoResourceFoundException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;NoResourceFoundException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toErrorResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;NOT_FOUND&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@ExceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IllegalArgumentException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IllegalArgumentException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toErrorResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;INVALID_REQUEST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@ExceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpMessageNotReadableException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpMessageNotReadableException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toErrorResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;INVALID_REQUEST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@ExceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exceptionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Internal Error = {}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toErrorResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;FAILED_INTERNAL_SYSTEM_PROCESSING&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toErrorResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt; error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;중복 코드 제거: 도메인별로 분산되어 있던 예외 처리 로직을 하나의 모듈로 통합하여 코드의 중복을 줄였습니다.&lt;/li&gt;
&lt;li&gt;중앙 집중식 관리: 예외 처리 로직을 중앙에서 관리함으로써 유지 보수가 용이해졌습니다.&lt;/li&gt;
&lt;li&gt;로깅: 예상치 못한 예외 발생 시 로그를 남겨, 문제의 원인을 빠르게 파악할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@RestControllerAdvice&lt;/code&gt;를 활용한 전역 예외 처리는 프로젝트의 예외 처리 로직을 일관성 있게 만들고, 코드 중복을 줄이며, 유지 보수성을 크게 향상시켰습니다. 이 방법을 통해 예외 처리가 더욱 간결하고 명확해졌으며, 향후 발생할 수 있는 다양한 예외 상황에 유연하게 대응할 수 있게 되었습니다.&lt;/p&gt;
&lt;p&gt;이러한 방식으로 예외 처리를 통합함으로써, 개발자는 보다 중요한 비즈니스 로직에 집중할 수 있게 되며, 클라이언트는 일관된 에러 메시지와 상태 코드를 받을 수 있어 사용자 경험을 개선할 수 있습니다.&lt;/p&gt;
&lt;h2&gt;참고 자료&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://mangkyu.tistory.com/204&quot;&gt;스프링의 다양한 예외 처리 방법&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://mangkyu.tistory.com/205&quot;&gt;@RestControllerAdvice를 이용한 Spring 예외 처리 방법&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;프로젝트 링크&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/f-lab-edu/shopping-mall-fashion&quot;&gt;mall-fashion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[공통 응답 API 구현 - 프로젝트에서의 효율적이고 일관된 응답 관리]]></title><description><![CDATA[…]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/develop/mall-fashion/mall1/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/develop/mall-fashion/mall1/</guid><pubDate>Mon, 26 Aug 2024 22:12:03 GMT</pubDate><content:encoded>&lt;h2&gt;도입 배경&lt;/h2&gt;
&lt;p&gt;프로젝트가 커지면서 각 컨트롤러에서 개별적으로 &lt;code class=&quot;language-text&quot;&gt;ResponseEntity&lt;/code&gt;를 사용하여 응답을 반환하는 방식이 비효율적임을 느꼈습니다. 특히, 성공 응답과 예외 응답을 각각 다르게 처리하면서 코드가 중복되고 일관성이 떨어지기 시작했습니다. 이를 개선하기 위해 성공 응답과 예외 응답을 각각 &lt;code class=&quot;language-text&quot;&gt;SuccessResult&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;ErrorResult&lt;/code&gt;라는 두 개의 클래스로 통일했습니다. 또한, 예외 응답의 경우 &lt;code class=&quot;language-text&quot;&gt;ErrorEnum&lt;/code&gt;이라는 열거형(enum)을 사용하여 에러 코드를 일관되게 관리할 수 있도록 재구성했습니다.&lt;/p&gt;
&lt;h2&gt;공통 응답 처리: SuccessResult와 ErrorResult&lt;/h2&gt;
&lt;h3&gt;1. 성공 응답: SuccessResult 클래스&lt;/h3&gt;
&lt;p&gt;성공적인 응답은 프로젝트 전반에 걸쳐 공통된 형태로 반환될 수 있도록 &lt;code class=&quot;language-text&quot;&gt;SuccessResult&lt;/code&gt; 클래스로 캡슐화했습니다. 이 클래스는 제네릭 타입을 사용하여 다양한 데이터 타입을 응답으로 포함할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Getter&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@NoArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SuccessResult&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;T&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Builder&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SuccessResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;T&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;제네릭 타입 T: 성공 응답이 포함할 수 있는 데이터 타입을 유연하게 설정할 수 있습니다.&lt;/li&gt;
&lt;li&gt;Builder 패턴: 객체를 생성할 때 보다 읽기 쉽게 코드를 작성할 수 있게 도와줍니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;2. 예외 응답: ErrorResult 클래스&lt;/h3&gt;
&lt;p&gt;예외 응답을 일관되게 처리하기 위해 &lt;code class=&quot;language-text&quot;&gt;ErrorResult&lt;/code&gt; 클래스를 사용했습니다. 이 클래스는 에러 코드와 메시지를 포함하며, 프로젝트의 다양한 예외 상황에 대한 정보를 제공합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Getter&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@NoArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; code&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Builder&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt; errorEnum&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;code &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; errorEnum&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getCode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; errorEnum&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;에러코드와 메시지: 각각의 예외에 대해 고유한 에러코드와 메시지를 포함합니다.&lt;/li&gt;
&lt;li&gt;Builder 패턴: ErrorEnum을 통해 에러 정보를 설정할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;예외 관리: ErrorEnum을 이용한 재사용 가능한 에러 정의&lt;/h2&gt;
&lt;p&gt;프로젝트 내에서 발생할 수 있는 다양한 예외 상황을 관리하기 위해 &lt;code class=&quot;language-text&quot;&gt;ErrorEnum&lt;/code&gt;을 도입했습니다. 각 예외 상황에 대해 고유한 코드와 메시지를 정의하여, 예외 상황이 발생할 때 일관된 응답을 보장할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Getter&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 시스템 예외&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;INVALID_REQUEST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;BAD_REQUEST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;잘못된 요청입니다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;FORBIDDEN_REQUEST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;UNAUTHORIZED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;허용되지 않은 요청입니다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;FAILED_INTERNAL_SYSTEM_PROCESSING&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;INTERNAL_SERVER_ERROR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;내부 시스템 처리 작업이 실패했습니다. 잠시 후 다시 시도해주세요.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;NOT_FOUND&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;NOT_FOUND&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;존재하지 않는 정보 입니다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 사용자 예외&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;INACTIVATED_USER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;UNAUTHORIZED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;비활성화된 계정입니다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;USERNAME_DUPLICATED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;CONFLICT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;이미 등록된 아이디입니다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;EMAIL_DUPLICATED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;CONFLICT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;이미 등록된 이메일입니다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ... 기타 예외들&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt; status&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; code&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt; status&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; status&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;code &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;HttpStatus&lt;/code&gt;와 함께 사용: 각 예외는 적절한 HTTP 상태 코드를 포함합니다.&lt;/li&gt;
&lt;li&gt;코드와 메시지의 재사용: 여러 컨트롤러에서 일관되게 예외 처리를 할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;ResponseEntity의 활용&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ResponseEntity&lt;/code&gt;는 스프링 프레임워크에서 응답을 정의할 때 자주 사용되는 클래스입니다. 이 클래스는 HTTP 응답 상태 코드, 헤더, 그리고 본문을 포함할 수 있어 매우 유용합니다.&lt;/p&gt;
&lt;p&gt;프로젝트에서 &lt;code class=&quot;language-text&quot;&gt;ResponseEntity&lt;/code&gt;는 주로 예외 응답을 반환할 때 사용되었습니다. 예외 발생 시 &lt;code class=&quot;language-text&quot;&gt;ErrorResult&lt;/code&gt; 객체와 함께 적절한 HTTP 상태 코드를 포함하여 클라이언트에 응답을 반환할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handleException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SomeException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt; errorResult &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ErrorResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                                         &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;errorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ErrorEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;INVALID_REQUEST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                                         &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;errorResult&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; errorEnum&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;HTTP 상태 코드 포함: 예외 상황에 따라 적절한 상태 코드가 자동으로 포함됩니다.&lt;/li&gt;
&lt;li&gt;유연한 응답 구성: ResponseEntity를 통해 헤더, 본문, 상태 코드 등을 자유롭게 설정할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;공통 응답 API를 도입함으로써 프로젝트의 코드 일관성과 유지 보수성이 크게 향상되었습니다. 성공적인 응답과 예외적인 응답을 각각 SuccessResult와 ErrorResult 클래스로 통일함으로써, 보다 명확하고 직관적인 코드를 작성할 수 있게 되었습니다. 또한, ErrorEnum을 사용하여 예외를 관리함으로써 코드의 재사용성을 높이고, ResponseEntity를 통해 유연하게 응답을 제어할 수 있었습니다.&lt;/p&gt;
&lt;p&gt;이러한 접근 방식을 통해 프로젝트의 응답 구조가 보다 체계적으로 정리되었으며, 이를 통해 클라이언트와의 통신이 더욱 명확해지고 오류 처리가 간소화되었습니다. 앞으로도 이 구조를 확장하여 다양한 상황에 대응할 수 있는 공통 응답 API를 만들어 나갈 수 있을 것입니다.&lt;/p&gt;
&lt;h2&gt;참고 자료&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://mangkyu.tistory.com/205&quot;&gt;@RestControllerAdvice를 이용한 Spring 예외 처리 방법&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;프로젝트 링크&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/f-lab-edu/shopping-mall-fashion&quot;&gt;mall-fashion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>